{"ast":null,"code":"import _slicedToArray from\"C:/Users/Nexus/Desktop/Yashashvi Pandey/practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/Nexus/Desktop/Yashashvi Pandey/practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _ from'lodash';import faker from'faker';import React,{useRef,useEffect}from'react';import{Search,Grid,Header,Segment,Container,Button,Input}from'semantic-ui-react';import HeaderComponent from'../Pages/Header';import UpperBody from'../Pages/UpperBody';import FooterComponent from'../Pages/Footer';import{propTypes}from'react-bootstrap/esm/Image';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var source=_.times(5,function(){return{title:faker.company.companyName(),description:faker.company.catchPhrase(),image:faker.internet.avatar(),price:faker.finance.amount(0,100,2,'$')};});var initialState={loading:false,results:[],value:''};function exampleReducer(state,action){switch(action.type){case'CLEAN_QUERY':return initialState;case'START_SEARCH':return _objectSpread(_objectSpread({},state),{},{loading:true,value:action.query});case'FINISH_SEARCH':return _objectSpread(_objectSpread({},state),{},{loading:false,results:action.results});case'UPDATE_SELECTION':return _objectSpread(_objectSpread({},state),{},{value:action.selection});default:throw new Error();}}function SearchExampleStandard(){var _React$useReducer=React.useReducer(exampleReducer,initialState),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];var loading=state.loading,results=state.results,value=state.value;var countRef=useRef(0);var inputEl=useRef(null);var onButtonClick=function onButtonClick(){// `current` points to the mounted text input element\ninputEl.current.focus();};useEffect(function(){countRef.current=countRef.current+1;},[inputEl.current]);var timeoutRef=React.useRef();//ref initialize\nvar handleSearchChange=React.useCallback(function(e,data){clearTimeout(timeoutRef.current);dispatch({type:'START_SEARCH',query:data.value});timeoutRef.current=setTimeout(function(){if(data.value.length===0){dispatch({type:'CLEAN_QUERY'});return;}var re=new RegExp(_.escapeRegExp(data.value),'i');var isMatch=function isMatch(result){return re.test(result.title);};dispatch({type:'FINISH_SEARCH',results:_.filter(source,isMatch)});},300);},[]);React.useEffect(function(){return function(){clearTimeout(timeoutRef.current);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UpperBody,{}),/*#__PURE__*/_jsx(HeaderComponent,{}),/*#__PURE__*/_jsxs(Container,{style:{height:'100%',marginBottom:'30%'},children:[/*#__PURE__*/_jsx(Header,{as:\"h1\",textAlign:\"center\",children:\"Search Page\"}),/*#__PURE__*/_jsxs(Grid,{columns:\"3\",children:[/*#__PURE__*/_jsx(Grid.Column,{children:/*#__PURE__*/_jsx(Search,{loading:loading,onResultSelect:function onResultSelect(e,data){return dispatch({type:'UPDATE_SELECTION',selection:data.result.title});},onSearchChange:handleSearchChange,results:results,value:value})}),/*#__PURE__*/_jsx(Grid.Column,{children:/*#__PURE__*/_jsx(Input,{ref:inputEl,placeholder:\"Focus Field\",value:countRef.current})}),/*#__PURE__*/_jsx(Grid.Column,{children:/*#__PURE__*/_jsx(Button,{color:\"orange\",onClick:onButtonClick,children:\"Search\"})})]})]}),/*#__PURE__*/_jsx(FooterComponent,{})]});}export default SearchExampleStandard;","map":{"version":3,"sources":["C:/Users/Nexus/Desktop/Yashashvi Pandey/practice/src/Pages/SearchPage.js"],"names":["_","faker","React","useRef","useEffect","Search","Grid","Header","Segment","Container","Button","Input","HeaderComponent","UpperBody","FooterComponent","propTypes","source","times","title","company","companyName","description","catchPhrase","image","internet","avatar","price","finance","amount","initialState","loading","results","value","exampleReducer","state","action","type","query","selection","Error","SearchExampleStandard","useReducer","dispatch","countRef","inputEl","onButtonClick","current","focus","timeoutRef","handleSearchChange","useCallback","e","data","clearTimeout","setTimeout","length","re","RegExp","escapeRegExp","isMatch","result","test","filter","height","marginBottom"],"mappings":"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","sourcesContent":["import _ from 'lodash'\r\nimport faker from 'faker'\r\nimport React,{useRef,useEffect } from 'react'\r\nimport { Search, Grid, Header, Segment, Container,Button,Input } from 'semantic-ui-react'\r\nimport HeaderComponent from '../Pages/Header';\r\nimport UpperBody from '../Pages/UpperBody'\r\nimport FooterComponent from '../Pages/Footer'\r\nimport { propTypes } from 'react-bootstrap/esm/Image';\r\n\r\nconst source = _.times(5, () => ({\r\n  title: faker.company.companyName(),\r\n  description: faker.company.catchPhrase(),\r\n  image: faker.internet.avatar(),\r\n  price: faker.finance.amount(0, 100, 2, '$'),\r\n}))\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  results: [],\r\n  value: '',\r\n}\r\n\r\nfunction exampleReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'CLEAN_QUERY':\r\n      return initialState\r\n    case 'START_SEARCH':\r\n      return { ...state, loading: true, value: action.query }\r\n    case 'FINISH_SEARCH':\r\n      return { ...state, loading: false, results: action.results }\r\n    case 'UPDATE_SELECTION':\r\n      return { ...state, value: action.selection }\r\n\r\n    default:\r\n      throw new Error()\r\n  }\r\n}\r\n\r\nfunction SearchExampleStandard() {\r\n  const [state, dispatch] = React.useReducer(exampleReducer, initialState)\r\n  const { loading, results, value } = state\r\n  const countRef = useRef(0);\r\n   const inputEl = useRef(null);\r\n   const onButtonClick = () => {\r\n    // `current` points to the mounted text input element\r\n   inputEl.current.focus();\r\n   \r\n   };\r\n   useEffect(() => {\r\n    countRef.current=countRef.current+1;\r\n  },[inputEl.current]);\r\n\r\n  const timeoutRef = React.useRef()//ref initialize\r\n\r\n  const handleSearchChange = React.useCallback((e, data) => {\r\n    clearTimeout(timeoutRef.current)\r\n    dispatch({ type: 'START_SEARCH', query: data.value })\r\n\r\n    timeoutRef.current = setTimeout(() => {\r\n      if (data.value.length === 0) {\r\n        dispatch({ type: 'CLEAN_QUERY' })\r\n        return\r\n      }\r\n\r\n      const re = new RegExp(_.escapeRegExp(data.value), 'i')\r\n      const isMatch = (result) => re.test(result.title)\r\n\r\n      dispatch({\r\n        type: 'FINISH_SEARCH',\r\n        results: _.filter(source, isMatch),\r\n      })\r\n    }, 300)\r\n  }, [])\r\n  React.useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timeoutRef.current)\r\n    }\r\n  }, [])\r\n \r\n  return ( \r\n  <>\r\n    <UpperBody />\r\n      <HeaderComponent />\r\n      <Container style={{height:'100%',marginBottom:'30%'}}>\r\n      <Header as='h1' textAlign='center'>Search Page</Header>\r\n    <Grid columns='3'>\r\n      <Grid.Column >\r\n        <Search \r\n      \r\n          loading={loading}\r\n          onResultSelect={(e, data) =>\r\n            dispatch({ type: 'UPDATE_SELECTION', selection: data.result.title })\r\n          }\r\n          onSearchChange={handleSearchChange}\r\n          results={results}\r\n          value={value}\r\n        />\r\n      </Grid.Column>\r\n      <Grid.Column>\r\n        <Input ref={inputEl}  placeholder='Focus Field' value={countRef.current} ></Input>\r\n      </Grid.Column>\r\n      <Grid.Column>\r\n        <Button color='orange' onClick={onButtonClick}>Search</Button>\r\n      </Grid.Column>\r\n    </Grid>\r\n      </Container>\r\n \r\n  \r\n  <FooterComponent/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SearchExampleStandard"]},"metadata":{},"sourceType":"module"}